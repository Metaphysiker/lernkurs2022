<div class="card h-100">
  <% if course.image.attached? %>
    <%= image_tag course.image, class: "card-img-top", width: 300, height: 250, style: "object-fit: cover"  %>
  <% end %>
  <div class="card-body">
    <h4 class="card-title"><%= course.name %></h4>
    <hr>
    <p class="card-text">
      <%= course.description %>
    </p>
    <hr>
    <p class="card-text">
      <strong>Dauer: </strong>20 Minuten
    </p>
  </div>
  <div class="card-footer border-top bg-light text-center">

    <% if @account.courses.key?(course.id.to_s) %>
    <% current_slide_id = @account.courses[course.id.to_s]["history"][-1] %>
      <%= link_to "Weitermachen!", course_path(course, slide_id: current_slide_id ), class: "action-button-i-color" %>
      <hr>
      <p>
        <strong>Dein Fortschritt:</strong>
      </p>

      <%= render "courses/progress", current_slide_id: current_slide_id, course: course %>
    <% else %>
      <%= link_to "Loslegen!", course_path(course), class: "action-button-green-color" %>
    <% end %>

    <% if policy(course).update? %>
      <hr>
      <%= link_to t("helpers.submit.update", model: Course.model_name.human), edit_course_path(course), class: "btn btn-primary" %>
      <br>
      <br>
      <%= link_to t("course_overview"), course_overview_course_path(course), class: "btn btn-primary" %>

    <% end %>


  </div>
</div>
